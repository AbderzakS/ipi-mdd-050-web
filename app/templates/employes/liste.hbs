<div class="row">
  <div class="col-lg-12">
    <h1>Liste des employés</h1>
    <div class="btn-group">
      <a href="#" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
        Nouvel employé
        <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li>{{#link-to "employes.detail" "newT"}}Technicien{{/link-to}}</li>
        <li>{{#link-to "employes.detail" "newC"}}Commercial{{/link-to}}</li>
        <li>{{#link-to "employes.detail" "newM"}}Manager{{/link-to}}</li>
      </ul>
    </div>
    <table class="table table-hover table-striped">
      <thead>
      <tr>
        <th scope="col" {{action "sortBy" "matricule"}}>Matricule
          {{#if (eq sortProperty "matricule")}}
            {{#if (eq sortDirection "DESC")}}
              <span class="glyphicon glyphicon-chevron-down"></span>
            {{else}}
              <span class="glyphicon glyphicon-chevron-up"></span>
            {{/if}}
          {{/if}}</th>
        <th scope="col" {{action "sortBy" "nom"}}>Nom
          {{#if (eq sortProperty "nom")}}
            {{#if (eq sortDirection "DESC")}}
              <span class="glyphicon glyphicon-chevron-down"></span>
            {{else}}
              <span class="glyphicon glyphicon-chevron-up"></span>
            {{/if}}
          {{/if}}</th>
        <th scope="col" {{action "sortBy" "prenom"}}>Prénom
          {{#if (eq sortProperty "prenom")}}
            {{#if (eq sortDirection "DESC")}}
              <span class="glyphicon glyphicon-chevron-down"></span>
            {{else}}
              <span class="glyphicon glyphicon-chevron-up"></span>
            {{/if}}
          {{/if}}</th>
        <th scope="col"></th>
      </tr>
      </thead>
      <tbody>
      {{#each model as |employe|}}
        <tr>
          <th scope="row">{{employe.matricule}}</th>
          <td>{{employe.nom}}</td>
          <td>{{employe.prenom}}</td>
          <td>{{#link-to "employes.detail" employe.id classNames="btn btn-primary"}}Détail{{/link-to}}</td>
        </tr>
      {{/each}}
      </tbody>
    </table>
    <div class="row">
      <div class="col-lg-6"><p>Affichage des employés {{add (mult model.meta.number model.meta.size) 1}} à {{add (mult model.meta.number model.meta.size) model.meta.size}} sur un total de {{model.meta.totalElements}}</p>
      </div>
      <div class="col-lg-6">
        <ul class="pagination">
          <li class="{{if (eq model.meta.number 0) "disabled" ""}}">
            {{#link-to "employes.liste" (query-params page=(sub model.meta.number 1))}}
              &laquo;
            {{/link-to}}
          </li>
          <li><a href="#">Page {{add model.meta.number 1}}</a></li>
          <li class="{{if (eq (add model.meta.number 1) model.meta.totalPages) "disabled" ""}}">
            {{#link-to "employes.liste" (query-params page=(add model.meta.number 1) size=size sortProperty=sortProperty sortDirection=sortDirection)}}
              &raquo;
            {{/link-to}}
          </li>
        </ul></div>
    </div>
  </div>
</div>